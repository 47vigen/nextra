# Nextra + Code Hike

## Comment annotations

You can use comments inside the code to make the focus relative.

```js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0;
  dolor = sit - amet(dolor);
  // focus
  return sit ? consectetur(ipsum) : [];
}

// focus(1:4)
function adipiscing(...elit) {
  console.log(elit);
  return elit.map((ipsum) => ipsum.sit);
}

// focus[13:17]
console.log("hey");
```

Same with other annotations like `bg` and `box`.

```js
// bg(1:2)
function foo() {
  console.log("hover me");
  // box[3:10]
  return 8;
}
```

You can pass a string parameter to comment annotations

```js index.js
function lorem(ipsum, dolor = 1) {
  // bg(1:3) linear-gradient(90deg, #020024 0%, #090979 35%, #00d4ff 100%)
  const sit = ipsum == null && 0;
  dolor = sit - amet(dolor);
  return sit ? consectetur(ipsum) : [];
}

function adipiscing(...elit) {
  console.log(elit);
  // box[19:38] aqua
  return elit.map((ipsum) => ipsum.sit);
}
```

## Links and labels

And now we introduce two more annotations: `link` and `label`

```js focus=4,8
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0;
  dolor = sit - amet(dolor);
  // link[16:26] https://github.com/code-hike/codehike
  return sit ? consectetur(ipsum) : [];
}

function adipiscing(...elit) {
  // label something something
  console.log("hover me");
  return elit.map((ipsum) => ipsum.sit);
}
```

## Spotlight

This is how to use the `<CH.Spotlight>` component. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quia! Quidem, quisquam.

<CH.Spotlight>

```js app.js
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0;
  dolor = sit - amet(dolor);
  return sit ? consectetur(ipsum) : [];
}
```

---

Change focus

```js app.js focus=2:4

```

---

Or change the code

```js app.js focus=6:10
function lorem(ipsum, dolor = 1) {
  const sit = ipsum == null && 0;
  dolor = sit - amet(dolor);
  return sit ? consectetur(ipsum) : [];
}

function adipiscing(...elit) {
  console.log(elit);
  return elit.map((ipsum) => ipsum.sit);
}
```

---

Or change the file

<CH.Code>

```js app.js focus=1:4
function adipiscing(...elit) {
  console.log(elit);
  return elit.map((ipsum) => ipsum.sit);
}
```

---

```css styles.css
.lorem {
  color: #fff;
  padding: 10px;
  background: #000;
}
```

</CH.Code>

---

### By the way

- you can
- put any
- markdown
- here

üëç

```js app.js

```

</CH.Spotlight>

## Spotlight with preview

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

<CH.Spotlight preset="https://codesandbox.io/s/zzgrb" start={1}>

```jsx app.js
import Circle from "./circle";
const red = "hsl(0 85% 60%)";
export default function App() {
  return (
    <div>
      <Circle color={red} />
    </div>
  );
}
```

---

## Lorem

Lorem ipsum dolor sit amet, consectetur adipiscing something about points, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

```jsx app.js

```

---

## Ipsum

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in.

```jsx app.js focus=5:9
import Circle from "./circle";
const red = "hsl(0 85% 60%)";
export default function App() {
  return (
    <div>
      <Circle color={red} />
      <Circle color={red} />
      <Circle color={red} />
    </div>
  );
}
```

---

## Dolor sit

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu.

```jsx app.js focus=2,6:8
import Circle from "./circle";
const red = "hsl(0 85% 60%)";
export default function App() {
  return (
    <div>
      <Circle color={red} />
      <Circle color={red} />
      <Circle color={red} />
    </div>
  );
}
```

---

## Amet

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Venenatis cras sed felis eget velit. Consectetur libero id faucibus nisl tincidunt.

```jsx app.js focus=8:10
import Circle from "./circle";
const red = "hsl(0 85% 60%)";
const blue = "hsl(240 50% 60%)";
const gold = "hsl(60 60% 60%)";
export default function App() {
  return (
    <div>
      <Circle color={red} />
      <Circle color={blue} />
      <Circle color={gold} />
    </div>
  );
}
```

</CH.Spotlight>

Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.

## Scrollycoding with preview

Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus. Praesent elementum facilisis leo vel fringilla. Congue mauris rhoncus aenean vel. Egestas sed tempus urna et pharetra pharetra massa massa ultricies.


<CH.Scrollycoding preset="https://codesandbox.io/s/w5wfe">

## Step 1

Lorem ipsum dolor sit amet, consectetur adipiscing something about points, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

> Nova in illis at dabat legi harundine non, ova miratur? _Quid in_ sole aer
> ad diffusa illis voluisti fidensque coniugiale laniata curam. Aras rivus
> eripuit, qua fistula haec partus; serpens, negat.

Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget.

Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus.

```jsx src/App.js
import { motion } from "framer-motion"

export default function App() {
  const bg = "hsl(20, 100%, 50%)"
  return (
    <motion.div
      className="swatch"
      animate={{ backgroundColor: bg }}
      transition={{ duration: 1 }}
    />
  )
}
```

---

## Step 2

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in.

Praesent elementum facilisis leo vel fringilla est ullamcorper eget.

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Nibh cras pulvinar mattis nunc sed. Luctus accumsan tortor posuere ac ut consequat semper viverra. Fringilla ut morbi tincidunt augue interdum velit euismod.

Morbi quis commodo.

```jsx src/App.js focus=1,4,6:10
import { motion } from "framer-motion"

export default function App() {
  const bg = "hsl(110, 100%, 50%)"
  return (
    <motion.div
      className="swatch"
      animate={{ backgroundColor: bg }}
      transition={{ duration: 1 }}
    />
  )
}
```

---

## Step 3

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu.

- Nisi lacus sed viverra tellus in
- Nibh cras pulvinar mattis nunc sed
- Luctus accumsan tortor posuere ac

Ut consequat semper viverra. Fringilla ut morbi tincidunt augue interdum velit euismod.

```jsx src/App.js focus=1,4,6:10
import { motion } from "framer-motion"

export default function App() {
  const bg = "hsl(200, 100%, 50%)"
  return (
    <motion.div
      className="swatch"
      animate={{ backgroundColor: bg }}
      transition={{ duration: 1 }}
    />
  )
}
```

---

## Step 4

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Venenatis cras sed felis eget velit. Consectetur libero id faucibus nisl tincidunt.

Sed blandit libero volutpat sed cras.

- Nisi lacus sed viverra tellus in
- Nibh cras pulvinar mattis nunc sed

Gravida in fermentum et sollicitudin ac orci phasellus egestas tellus. Volutpat consequat mauris nunc congue nisi vitae.

```jsx src/App.js focus=1,4,6:10
import { motion } from "framer-motion"

export default function App() {
  const bg = "hsl(290, 100%, 50%)"
  return (
    <motion.div
      className="swatch"
      animate={{ backgroundColor: bg }}
      transition={{ duration: 1 }}
    />
  )
}
```

---

## Step 5

Velit euismod in pellentesque massa placerat. Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in.

Praesent elementum facilisis leo vel fringilla est ullamcorper eget.

Id aliquet risus feugiat in ante metus dictum at tempor. Sed blandit libero volutpat sed cras. Sed odio morbi quis commodo odio aenean sed adipiscing. Velit euismod in pellentesque massa placerat.

Mi bibendum neque egestas congue quisque egestas diam in arcu. Nisi lacus sed viverra tellus in. Nibh cras pulvinar mattis nunc sed. Luctus accumsan tortor posuere ac ut consequat semper viverra.

- Fringilla ut morbi tincidunt augue interdum velit euismod.
- Luctus accumsan tortor posuere ac ut consequat semper viverra.

Morbi quis commodo.

```jsx src/App.js focus=1,4,6:10
import { motion } from "framer-motion"

export default function App() {
  const bg = "hsl(10, 100%, 50%)"
  return (
    <motion.div
      className="swatch"
      animate={{ backgroundColor: bg }}
      transition={{ duration: 1 }}
    />
  )
}
```

</CH.Scrollycoding>

## Slideshow

This is how to use the `<CH.Sildeshow>` component. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quia! Quidem, quisquam.

<CH.Slideshow>

```rust
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

#[allow(dead_code)]
fn bad_add(a: i32, b: i32) -> i32 {
    a - b
}
```

---

```rust
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

#[allow(dead_code)]
fn bad_add(a: i32, b: i32) -> i32 {
    a - b
}

// focus(1:4)
#[cfg(test)]
mod tests {
    use super::*;
}
```

---

```rust
// focus(1:3)
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

#[allow(dead_code)]
fn bad_add(a: i32, b: i32) -> i32 {
    a - b
}

#[cfg(test)]
mod tests {
    use super::*;
// focus(1:4)
    #[test]
    fn test_add() {
        assert_eq!(add(1, 2), 3);
    }
}
```

---

```rust
pub fn add(a: i32, b: i32) -> i32 {
    a + b
}

// focus(1:4)
#[allow(dead_code)]
fn bad_add(a: i32, b: i32) -> i32 {
    a - b
}

#[cfg(test)]
mod tests {
    use super::*;
    #[test]
    fn test_add() {
        assert_eq!(add(1, 2), 3);
    }
// focus(1:4)
    #[test]
    fn test_bad_add() {
        assert_eq!(bad_add(1, 2), 3);
    }
}
```

</CH.Slideshow>

## Slideshow with preview

This is how to use the `<CH.Sildeshow>` component. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam, quia! Quidem, quisquam.

<CH.Slideshow preset="https://codesandbox.io/s/rfdho" code={{minZoom: 0.5}}>

```jsx src/index.js
import React from "react"
import ReactDOM from "react-dom"

const app = React.createElement(
  "h1",
  { style: { color: "teal" } },
  "Hello React"
)

ReactDOM.render(app, document.getElementById("root"))
```

React provides a createElement function to declare what we want to render to the DOM, React provides a createElement function to declare what we want to render to the DOM.

---

```jsx src/index.js focus=4
import React from "react"
import ReactDOM from "react-dom"

const app = <h1 style={{ color: "teal" }}>Hello React</h1>

ReactDOM.render(app, document.getElementById("root"))
```

But instead of using createElement directly you can use JSX.

---

```jsx src/index.js focus=4:10
import React from "react"
import ReactDOM from "react-dom"

function MyComponent() {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = <h1 style={{ color: "teal" }}>Hello React</h1>

ReactDOM.render(app, document.getElementById("root"))
```

To create a component you only need to write a function with a name that starts with a capital letter.

---

```jsx src/index.js focus=4[10:20],12:17
import React from "react"
import ReactDOM from "react-dom"

function MyComponent() {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent />
    <MyComponent />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

Now you can use that function in JSX.

---

```jsx src/index.js focus=14[18:29],15[18:31]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent() {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

You can assign attributes

---

```jsx src/index.js focus=4[22:29],14[18:29],15[18:31]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  return (
    <div>
      <button>Hello</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

And React will pass them to the component as parameters

---

```jsx src/index.js focus=4[22:29],7
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  return (
    <div>
      <button>{name}</button>
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

Inside JSX, you use curly braces to wrap dynamic data

---

```jsx src/index.js focus=5,9
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const goalCount = 2
  return (
    <div>
      <button>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

In fact you can wrap any javascript expression.

---

```jsx src/index.js focus=7:9,13[15:35]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const goalCount = 2

  const handleClick = (event) => {
    // do something
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

To add event listeners you pass a function to the corresponding attribute

---

```jsx src/index.js focus=5
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    // do something
  }
  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

To add state to a component there's the useState function from React.

---

```jsx src/index.js focus=5,7:9
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

It gives you a function to update the state.

---

```jsx src/index.js focus=5,7:9,13,14

```

When you call it, React will know it needs to re-render the component.

---

```jsx src/index.js focus=19
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

const app = (
  <div>
    <MyComponent name="Messi" />
    <MyComponent name="Ronaldo" />
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

To render a list

---

```jsx src/index.js focus=19,23[6:34],24,25[1:6]
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

const app = (
  <div>
    {players.map((playerName) => (
      <MyComponent name={playerName} key={playerName} />
    ))}
  </div>
)

ReactDOM.render(app, document.getElementById("root"))
```

you can map each list item to an element using javascript.

---

```jsx src/index.js focus=24[38:54]

```

React only needs a unique key for each element, to find out when something changes.

---

```jsx src/index.js focus=21:27,30,34
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

function MyBox() {
  return (
    <div style={{ border: "8px solid deeppink" }}>
      // TODO something
    </div>
  )
}

const app = (
  <MyBox>
    {players.map((playerName) => (
      <MyComponent name={playerName} key={playerName} />
    ))}
  </MyBox>
)

ReactDOM.render(app, document.getElementById("root"))
```

If you want to compose components together

---

```jsx src/index.js focus=21[16:27],24,30:34
import React from "react"
import ReactDOM from "react-dom"

function MyComponent({ name }) {
  const [goalCount, setCount] = React.useState(2)

  const handleClick = (event) => {
    setCount(goalCount + 1)
  }

  return (
    <div>
      <button onClick={handleClick}>{name}</button>
      {"‚öΩ".repeat(goalCount)}
    </div>
  )
}

const players = ["Messi", "Ronaldo", "Laspada"]

function MyBox({ children }) {
  return (
    <div style={{ border: "8px solid deeppink" }}>
      {children}
    </div>
  )
}

const app = (
  <MyBox>
    {players.map((playerName) => (
      <MyComponent name={playerName} key={playerName} />
    ))}
  </MyBox>
)

ReactDOM.render(app, document.getElementById("root"))
```

React passes the nested elements inside a special property called children.

</CH.Slideshow>